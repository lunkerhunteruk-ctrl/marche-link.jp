(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[621,294],{2516:function(n,t,e){Promise.resolve().then(e.bind(e,6e3)),Promise.resolve().then(e.bind(e,3530))},6e3:function(n,t,e){"use strict";e.d(t,{ClientOnlyLiff:function(){return u}});var r=e(7437),i=e(2265);function u(n){let{children:t}=n,[e,u]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{u(!0)},[]),e)?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-6",children:(0,r.jsx)("p",{className:"text-gray-500",children:"読み込み中..."})})}},3530:function(n,t,e){"use strict";e.d(t,{ShopLiffProvider:function(){return c}});var r=e(7437),i=e(2265),u=e(6515);function c(n){let{liffId:t,children:e}=n,[c,l]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let n=!1;return async function(){try{if(await (0,u.$w)(t),n)return;if(!(0,u.jl)()){(0,u.Lq)();return}l(!0)}catch(t){n||l(!0)}}(),()=>{n=!0}},[t]),c)?(0,r.jsx)(r.Fragment,{children:e}):(0,r.jsx)("main",{className:"flex-1 flex items-center justify-center p-6",children:(0,r.jsx)("p",{className:"text-gray-500",children:"読み込み中..."})})}},6515:function(n,t,e){"use strict";e.d(t,{$w:function(){return a},DT:function(){return o},Lq:function(){return s},Tc:function(){return h},cz:function(){return m},jl:function(){return f},lA:function(){return w},o$:function(){return d}});let r=null,i=null,u=!1,c=!1;async function l(){if(r)return r;try{return r=(await e.e(949).then(e.bind(e,2949))).default}catch(n){return null}}async function a(n){return(c||(c=!0,window.addEventListener("pagehide",()=>{i=null,r=null,u=!0})),i)?i:i=(async()=>{let t=n;window.location.pathname.startsWith("/admin")&&!window.location.pathname.startsWith("/admin-entry")&&(n.endsWith("KaRhKY16")||n.includes("KaRhKY16"))&&(t="2009034946-LkF5LngF");let e=await l();e&&(u||!e.id)&&(u&&(u=!1),await new Promise(n=>requestAnimationFrame(()=>n())),await e.init({liffId:t}))})().catch(n=>{throw i=null,n})}function o(){if(!r)return!1;try{return r.isInClient()}catch(n){return!1}}function f(){if(!r)return!1;try{return r.isLoggedIn()}catch(n){return!1}}function s(n){r&&r.login({redirectUri:n})}async function d(){var n;let t=await l();if(!t)throw Error("LIFF が利用できません");let e=await t.getProfile();return{userId:e.userId,displayName:null!==(n=e.displayName)&&void 0!==n?n:"",pictureUrl:e.pictureUrl}}async function h(){let n=await l();if(!n||"function"!=typeof n.getIDToken)return null;try{let t=await n.getIDToken();return t&&"string"==typeof t?t:null}catch(n){return null}}async function m(){let n=await l();if(!n||"function"!=typeof n.getDecodedIDToken)return null;try{let t=n.getDecodedIDToken();if((null==t?void 0:t.email)&&"string"==typeof t.email&&t.email.trim())return t.email.trim();return null}catch(n){return null}}function w(){(null==r?void 0:r.closeWindow)&&r.closeWindow()}}},function(n){n.O(0,[971,117,744],function(){return n(n.s=2516)}),_N_E=n.O()}]);