(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[672],{7943:function(e,t,n){Promise.resolve().then(n.bind(n,9404))},9404:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(7437),r=n(2265),s=n(7648),l=n(5398),o=n(6679),c=n(31),i=n(8867),m=n(4413);function x(){var e;let{storeIds:t,loading:n}=(0,o.dD)(),x=null!==(e=t[0])&&void 0!==e?e:"",d=(0,r.useMemo)(()=>x?function(e){var t;let n=(null===(t=window.location)||void 0===t?void 0:t.origin)?window.location.origin:"https://".concat("marche-link.jp"),a=new URLSearchParams({shop:e.trim().toLowerCase()});return"".concat(n,"/order/?").concat(a.toString())}(x):"",[x]),u=(0,r.useMemo)(()=>x?function(e){let t=e.trim().toLowerCase();return"https://liff.line.me/".concat(c.hD,"?shop=").concat(encodeURIComponent(t))}(x):"",[x]),h=(0,r.useMemo)(()=>x?c.G$:"",[x]),f=e=>{e&&navigator.clipboard.writeText(e).then(()=>alert("URLをコピーしました"),()=>alert("コピーに失敗しました"))},p=(0,r.useCallback)(()=>{d&&window.open("https://line.me/R/msg/text/?".concat(encodeURIComponent(d)),"_blank","noopener,noreferrer")},[d]),b=(0,r.useCallback)(()=>{h&&window.open("https://line.me/R/msg/text/?".concat(encodeURIComponent(h)),"_blank","noopener,noreferrer")},[h]);return!x&&n?(0,a.jsx)("main",{className:"max-w-2xl mx-auto p-6",children:(0,a.jsx)("p",{className:"text-gray-500",children:"読み込み中..."})}):x?(0,a.jsxs)("main",{className:"max-w-2xl mx-auto p-6 space-y-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"マイストア用QRコード"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"このリンク1本で、LINEでタップするとアプリ内で開き、メールやPCで開いてもストアページが表示されます。共有・QRコードともこのURLを使ってください。"}),(0,a.jsxs)("section",{className:"rounded-xl border border-gray-200 bg-white p-6 flex flex-col items-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"ストアのリンク・QRコード"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-4",children:"LINEでタップ or QR読み取り → LINE内で開きます。メールで送ってPCで開いてもOK"}),d?(0,a.jsx)(l.t,{value:d,size:240,level:"M",className:"rounded-lg border border-gray-100","aria-label":"顧客向けストアのQRコード"}):null,(0,a.jsx)("p",{className:"mt-4 text-xs text-gray-500 break-all text-center max-w-full px-2",children:d}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3 justify-center",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>f(d),className:"inline-flex min-h-touch items-center gap-2 rounded-xl border border-gray-300 bg-white px-4 py-2 text-sm text-gray-700 active:bg-gray-50",children:[(0,a.jsx)(i.Z,{className:"h-4 w-4","aria-hidden":!0}),"URLをコピー"]}),(0,a.jsxs)("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:"inline-flex min-h-touch items-center gap-2 rounded-xl border-2 border-[var(--admin-accent)] bg-[var(--admin-accent)] px-4 py-2 text-sm font-medium text-white active:opacity-90",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4","aria-hidden":!0}),"マイストア"]})]}),(0,a.jsx)("button",{type:"button",onClick:p,className:"mt-4 w-full max-w-[280px] h-10 rounded-md overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-green-500","aria-label":"LINEで送る",children:(0,a.jsx)("img",{src:"/line-send-button.png",alt:"LINEで送る",className:"h-10 w-full object-contain object-center"})})]}),(0,a.jsxs)("section",{className:"rounded-xl border border-gray-200 bg-white p-6 flex flex-col items-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"自分用：管理画面にすぐアクセス"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-4 text-center",children:"Keepメモに投稿して自分がログインしやすくなるようにお使いください。"}),(0,a.jsx)("button",{type:"button",onClick:b,className:"w-full max-w-[280px] h-10 rounded-md overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-green-500","aria-label":"LINEで送る（管理画面用リンク）",children:(0,a.jsx)("img",{src:"/line-send-button.png",alt:"LINEで送る",className:"h-10 w-full object-contain object-center"})})]})]}):(0,a.jsxs)("main",{className:"max-w-2xl mx-auto p-6 space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"マイストア用QRコード"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["ショップが登録されていません。顧客向けページのURLとQRコードを表示するには、",(0,a.jsx)(s.default,{href:"/admin/register",className:"text-[var(--admin-accent)] underline",children:"新規ショップ登録"}),"を完了してください。"]})]})}}},function(e){e.O(0,[358,990,249,648,138,679,971,117,744],function(){return e(e.s=7943)}),_N_E=e.O()}]);