(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{2203:function(e,r,t){Promise.resolve().then(t.bind(t,9725))},9725:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var n=t(7437),a=t(2265),s=t(9376),u=t(6942),i=t(6679),c=t(6515),o=t(31);let d=["/admin/qrcode/","/admin/orders/"];function l(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)(),{user:t,loading:l,signInWithLine:m}=(0,u.a)(),{storeIds:h,loading:f}=(0,i.dD)(),x=(0,a.useRef)(!1);(0,a.useEffect)(()=>{!(0,c.DT)()||null!=t&&t.uid||l||x.current||(x.current=!0,m().then(()=>{}).catch(()=>{x.current=!1}))},[(0,c.DT)(),null==t?void 0:t.uid,l,m]);let p="marche-link-admin-just-created-shop";return((0,a.useEffect)(()=>{if(!l&&(null==t?void 0:t.uid)&&h.length>=1){let t=r.get("open");if(t&&d.includes(t)){e.replace(t);return}sessionStorage.getItem(p)?(sessionStorage.removeItem(p),sessionStorage.setItem("marche-link-quick-first-after-onboarding","1"),e.replace("/admin/products/quick/")):e.replace("/admin/orders/")}},[null==t?void 0:t.uid,l,h.length,e,r]),(0,c.DT)())?(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6","aria-hidden":"true"}):(0,n.jsx)("div",{className:"max-w-2xl mx-auto p-6",children:(0,n.jsxs)("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 p-6 text-center",children:[(0,n.jsx)("p",{className:"font-medium text-amber-900",children:"管理画面は LINE アプリ内で開いてください"}),(0,n.jsx)("p",{className:"mt-2 text-sm text-amber-800",children:"LINE で次のリンクを開くと、LINE ID でログインして利用できます。"}),(0,n.jsx)("p",{className:"mt-3 text-sm break-all text-amber-700",children:o.KC})]})})}},9376:function(e,r,t){"use strict";var n=t(5475);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[358,990,249,679,971,117,744],function(){return e(e.s=2203)}),_N_E=e.O()}]);