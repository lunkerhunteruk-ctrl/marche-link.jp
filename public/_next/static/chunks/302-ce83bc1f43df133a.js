"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{2498:function(t,e,n){n.d(e,{E:function(){return r}});let r={siteName:"マルシェリンク",baseUrl:"https://marche-link.jp",ogImageUrl:"https://marche-link.jp/admin-ogp.png",ogImageWidth:1200,ogImageHeight:630,ogTitle:"ストア管理画面 | マルシェリンク",defaultDescription:"注文・商品・QRコードを、いつものLINEでまとめて管理。"}},3582:function(t,e,n){n.d(e,{W:function(){return i}});var r=n(7293),a=n(6514);function o(t){return/^#[0-9A-Fa-f]{6}$/.test(t)}async function i(t){if(!(0,r.G5)())throw Error("Firebase が利用できません");let e=(0,r.lx)("asia-northeast1");if(!e)throw Error("Cloud Functions が利用できません");let n=(0,r.V1)(e,"createStoreWithAdminSimple"),i=(await n({name:t.trim()})).data,l=null==i?void 0:i.buttonColor;if((null==i?void 0:i.storeId)&&(!l||!o(l)))try{var u,d,c;let t=await (0,a.M)(i.storeId),e=null!==(c=null===(u=t.theme)||void 0===u?void 0:u.buttonColor)&&void 0!==c?c:null===(d=t.theme)||void 0===d?void 0:d.primaryColor;e&&o(e)&&(l=e)}catch(t){l=null}return{storeId:i.storeId,buttonColor:null!=l?l:null}}},6514:function(t,e,n){n.d(e,{M:function(){return l}});var r=n(5978),a=n(7293),o=n(4770);function i(t){if("string"!=typeof t)return null;let e=t.trim();if(/^#[0-9A-Fa-f]{6}$/.test(e))return e;if(/^#[0-9A-Fa-f]{3}$/.test(e)){let t=e[1]+e[1],n=e[2]+e[2],r=e[3]+e[3];return"#".concat(t).concat(n).concat(r)}return null}async function l(t){let e=(0,a.T)(),n=t.trim().toLowerCase();if(!e||!n)return{name:n||"ショップ",theme:o.t,description:void 0,payment:{paypayEnabled:!1,paypaySuffix:"",cashEnabled:!1,bankEnabled:!1,bankDetails:"",customMethods:[]}};let l=await (0,r.QT)((0,r.JU)(e,"stores",n));if(!l.exists())return{name:n,theme:o.t,description:void 0,payment:{paypayEnabled:!1,paypaySuffix:"",cashEnabled:!1,bankEnabled:!1,bankDetails:"",customMethods:[]}};let u=l.data(),d="string"==typeof(null==u?void 0:u.name)&&u.name.trim()?u.name.trim():n,c="string"==typeof(null==u?void 0:u.iconUrl)&&u.iconUrl.trim()?u.iconUrl.trim():null,s="string"==typeof(null==u?void 0:u.description)&&u.description.trim()?u.description.trim():null,f=function(t){var e,n,r,a,l,u,d,c;if(!t||"object"!=typeof t)return o.t;let s=t.theme;if(!s||"object"!=typeof s)return o.t;let f=null!==(n=i(null!==(e=s.primaryColor)&&void 0!==e?e:s.buttonColor))&&void 0!==n?n:o.t.primaryColor,y=null!==(a=i(null!==(r=s.buttonColor)&&void 0!==r?r:s.primaryColor))&&void 0!==a?a:f,h=null!==(u=i(null!==(l=s.headerColor)&&void 0!==l?l:s.primaryColor))&&void 0!==u?u:f;return{primaryColor:f,buttonColor:y,headerColor:h,backgroundColor:null!==(d=i(s.backgroundColor))&&void 0!==d?d:o.t.backgroundColor,textColor:null!==(c=i(s.textColor))&&void 0!==c?c:o.t.textColor,fontFamily:"string"==typeof s.fontFamily&&/^(sans-serif|serif|monospace)$/.test(s.fontFamily)?s.fontFamily:o.t.fontFamily}}(u),y=null==u?void 0:u.paymentCustomMethods,h=[];if(Array.isArray(y))for(let t of y)t&&"object"==typeof t&&"string"==typeof t.label?t.label.trim()&&!0===t.enabled&&h.push(t.label.trim()):"string"==typeof t&&t.trim()&&h.push(t.trim());return{name:d,iconUrl:null!=c?c:void 0,description:null!=s?s:void 0,theme:f,payment:{paypayEnabled:(null==u?void 0:u.paymentPayPayEnabled)===!0,paypaySuffix:"string"==typeof(null==u?void 0:u.paymentPayPaySuffix)?u.paymentPayPaySuffix.trim():"",cashEnabled:(null==u?void 0:u.paymentCashEnabled)!==!1,bankEnabled:(null==u?void 0:u.paymentBankEnabled)===!0,bankDetails:"string"==typeof(null==u?void 0:u.paymentBankDetails)?u.paymentBankDetails.trim():"",customMethods:h}}}},9450:function(t,e,n){n.d(e,{T:function(){return l},k:function(){return u}});var r=n(3301),a=n(5978),o=n(7293),i=n(8045);async function l(t){let e=(0,o.E7)();if(!e)throw Error("Firebase Auth が利用できません");let n=(0,o.lx)("asia-northeast1");if(!n)throw Error("Cloud Functions が利用できません");let a=(0,o.V1)(n,"getLineAuthCustomToken"),{customToken:l}=(await Promise.race([a({idToken:t}),new Promise((t,e)=>setTimeout(()=>e(Error("認証サーバーからの応答がありません。通信を確認して再試行してください。")),2e4))])).data;if(!l)throw Error("認証に失敗しました");await (0,r._p)(e,l),(0,i.rZ)()}async function u(t){try{let e=(0,o.T)();if(!e)return[];let n=await (0,a.QT)((0,a.JU)(e,"adminUsers",t)),r=n.exists()?n.data():null;return r&&Array.isArray(r.storeIds)?r.storeIds:[]}catch(t){return[]}}},4770:function(t,e,n){n.d(e,{W:function(){return a},t:function(){return r}});let r={primaryColor:"#6b7280",buttonColor:"#6b7280",headerColor:"#4b5563",backgroundColor:"#f9fafb",textColor:"#111827",fontFamily:"sans-serif"},a="https://pay.paypay.ne.jp/"},6363:function(t,e,n){n.d(e,{$:function(){return r}});function r(t,e){let n=e&&/^#[0-9A-Fa-f]{6}$/.test(e)?e:"#4a7c59";return new Promise((e,r)=>{let a=document.createElement("canvas");a.width=300,a.height=300;let o=a.getContext("2d");if(!o){r(Error("Canvas not available"));return}let i=(t.trim().slice(0,1)||"?").toUpperCase();o.fillStyle=n,o.beginPath(),o.arc(150,150,148,0,2*Math.PI),o.fill(),o.fillStyle="#ffffff",o.font="bold ".concat(Math.floor(135),"px sans-serif"),o.textAlign="center",o.textBaseline="middle",o.fillText(i,150,150),a.toBlob(t=>{t?e(t):r(Error("Failed to create icon blob"))},"image/jpeg",.9)})}},9205:function(t,e,n){n.d(e,{Z:function(){return u}});var r=n(2265);let a=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t,e,n)=>!!t&&""!==t.trim()&&n.indexOf(t)===e).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((t,e)=>{let{color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:c,iconNode:s,...f}=t;return(0,r.createElement)("svg",{ref:e,...i,width:a,height:a,stroke:n,strokeWidth:u?24*Number(l)/Number(a):l,className:o("lucide",d),...f},[...s.map(t=>{let[e,n]=t;return(0,r.createElement)(e,n)}),...Array.isArray(c)?c:[c]])}),u=(t,e)=>{let n=(0,r.forwardRef)((n,i)=>{let{className:u,...d}=n;return(0,r.createElement)(l,{ref:i,iconNode:e,className:o("lucide-".concat(a(t)),u),...d})});return n.displayName="".concat(t),n}},8736:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3117:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]])},9090:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},2718:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},4794:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},6275:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},3388:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},2023:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4413:function(t,e,n){n.d(e,{Z:function(){return r}});let r=(0,n(9205).Z)("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]])},9376:function(t,e,n){var r=n(5475);n.o(r,"usePathname")&&n.d(e,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(e,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(e,{useSearchParams:function(){return r.useSearchParams}})}}]);